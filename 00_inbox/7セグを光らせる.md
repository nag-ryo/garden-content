実験日：2025/12/21

7セグとは？：[[7セグメント]]

## まずは1本だけ
とりあえず1本だけ光らせる。

配線した。
![[7セグを光らせる写真.jpeg]]

注意点
- 各LEDに対して1つずつ抵抗を使用すること。
- 1txのピンは使用しない。
- 7セグのGNDは上下どちらでもいい

コードはこれ
```cpp
int segA = 3;

void setup() {
  pinMode(segA, OUTPUT);
}

void loop() {
  digitalWrite(segA, HIGH);
  delay(1000);
  digitalWrite(segA, LOW);
  delay(1000);
}
```


## 全部順番に光らせる

show8() のような関数を作って、それを呼び出せば光らせることが出来るようにする。
配線はそのまま。

コードは以下のようになった。
```cpp
int segPins[7] = {2,3,4,5,6,7,8};

void setup() {
  for (int i=0; i<7; i++) {
    pinMode(segPins[i], OUTPUT);
    digitalWrite(segPins[i], LOW); // まず全部消す
  }
}

void loop() {
  show0();
  delay(1000);
  show1();
  delay(1000);
  show2();
  delay(1000);
  show3();
  delay(1000);
  show4();
  delay(1000);
  show5();
  delay(1000);
  show6();
  delay(1000);
  show7();
  delay(1000);
  show8();
  delay(1000);
  show9();
  delay(1000);
}


//   a
// f   b
//   g
// e   c
//   d

// ピン配列
int a=4, b=5, c=8, d=7, e=6, f=3, g=2;

void reset() {
  digitalWrite(a,LOW);
  digitalWrite(b,LOW);
  digitalWrite(c,LOW);
  digitalWrite(d,LOW);
  digitalWrite(e,LOW);
  digitalWrite(f,LOW);
  digitalWrite(g,LOW);
}

void show0() {
  digitalWrite(a,HIGH);
  digitalWrite(b,HIGH);
  digitalWrite(c,HIGH);
  digitalWrite(d,HIGH);
  digitalWrite(e,HIGH);
  digitalWrite(f,HIGH);
  digitalWrite(g,LOW);
}

void show1() {
  digitalWrite(a,LOW);
  digitalWrite(b,HIGH);
  digitalWrite(c,HIGH);
  digitalWrite(d,LOW);
  digitalWrite(e,LOW);
  digitalWrite(f,LOW);
  digitalWrite(g,LOW);
}

void show2() {
  digitalWrite(a,HIGH);
  digitalWrite(b,HIGH);
  digitalWrite(c,LOW);
  digitalWrite(d,HIGH);
  digitalWrite(e,HIGH);
  digitalWrite(f,LOW);
  digitalWrite(g,HIGH);
}

void show3() {
  digitalWrite(a,HIGH);
  digitalWrite(b,HIGH);
  digitalWrite(c,HIGH);
  digitalWrite(d,HIGH);
  digitalWrite(e,LOW);
  digitalWrite(f,LOW);
  digitalWrite(g,HIGH);
}

void show4() {
  digitalWrite(a,LOW);
  digitalWrite(b,HIGH);
  digitalWrite(c,HIGH);
  digitalWrite(d,LOW);
  digitalWrite(e,LOW);
  digitalWrite(f,HIGH);
  digitalWrite(g,HIGH);
}

void show5() {
  digitalWrite(a,HIGH);
  digitalWrite(b,LOW);
  digitalWrite(c,HIGH);
  digitalWrite(d,HIGH);
  digitalWrite(e,LOW);
  digitalWrite(f,HIGH);
  digitalWrite(g,HIGH);
}

void show6() {
  digitalWrite(a,HIGH);
  digitalWrite(b,LOW);
  digitalWrite(c,HIGH);
  digitalWrite(d,HIGH);
  digitalWrite(e,HIGH);
  digitalWrite(f,HIGH);
  digitalWrite(g,HIGH);
}

void show7() {
  digitalWrite(a,HIGH);
  digitalWrite(b,HIGH);
  digitalWrite(c,HIGH);
  digitalWrite(d,LOW);
  digitalWrite(e,LOW);
  digitalWrite(f,LOW);
  digitalWrite(g,LOW);
}

void show8() {
  digitalWrite(a,HIGH);
  digitalWrite(b,HIGH);
  digitalWrite(c,HIGH);
  digitalWrite(d,HIGH);
  digitalWrite(e,HIGH);
  digitalWrite(f,HIGH);
  digitalWrite(g,HIGH);
}

void show9() {
  digitalWrite(a,HIGH);
  digitalWrite(b,HIGH);
  digitalWrite(c,HIGH);
  digitalWrite(d,HIGH);
  digitalWrite(e,LOW);
  digitalWrite(f,HIGH);
  digitalWrite(g,HIGH);
}
```

これで、順番にカウントアップさせることができた。
今後、7セグを使うときはこのコードを参考にすれば良さそう。
