
実験日：2025/12/29

[[実験：トランジスタをスイッチとして使ってみる]]の回路で、ベースとGNDをつなぎ、その間に1μFのコンデンサを追加。

## 期待値

LEDがフワッて変わるはず！

## やってみたけど

前回のコードそのままで走らせてみたが、電流量が弱いときに点かなくなる。

分圧かな？

```cpp
const int PWM_PIN = 9;

void setup() {
  pinMode(PWM_PIN, OUTPUT);
}

void loop() {
  analogWrite(PWM_PIN, 30);   // 暗い
  delay(1000);
  analogWrite(PWM_PIN, 200);  // 明るい
  delay(1000);
}
```

### 実際は

分圧というより、閾値とRCの遅れ。

重要な3点
- ベースは0.6 ~ 0.7Vを超えないとONしない(B-Eの閾値)
- RCはPWMを平均化する（なだらかにする）
- プルダウンはベース電圧を引き下げる（安定化）

なぜanalogWrite(9, 30) で点かなかったか。

PWM=30 は「平均的には低い電圧」
- RCで平均化され
- プルダウンでさらに引っ張られ
- B-Eの0.6Vに届かない

トランジスタはOFFのままで、LEDは点かない。

## 気を取り直して

1μFだと違いが分からなかったので、10μFにした。

コードも変更。

```cpp
const int PWM_PIN = 9;

void setup() {
  pinMode(PWM_PIN, OUTPUT);
}

void loop() {
  analogWrite(PWM_PIN, 0);
  delay(1000);
  analogWrite(PWM_PIN, 200);
  delay(1000);
}
```

いったん、フワッて点いたり消えたりするようになった。

## かける電圧をちょっと弱くしてみる

もっと時間がかかってフワッて変わる。
コンデンサにかかる電圧が弱くなり、充電完了まで時間がかかるからだな。

### 調べてみると

充電完了までの時間という理解は、8割正解。
というのも、必ず充電し切るわけではないから。

PWMを弱めるとコンデンサに入ってくる電気の勢いが弱くなる。だから、電圧がじわじわしか上がらない。

やはり、
## ここで公式を見てみる

1μFから10μFにすると最大まで明るくなるのに時間がかかる。
これは、時定数が大きくなったから。

**τ = R×C**


## 実験は成功だ！

コンデンサによる遅延の効果を実感することが出来た。
RC回路によるふわっと感をLEDを使って確認することが出来た。
